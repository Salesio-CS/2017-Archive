<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>タイトル</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  </head>
  <body>
  <nav class="navbar navbar-default navbar-static-top navbar-inverse">
  <div class="container">
      <div class="navbar-header">
          <a href="#" class="navbar-brand">
              Sensor Data
          </a>
      </div>
  </div><!-- container -->
  </nav>

  <div class="container">
    センサーデータ一覧<br />

    <ul id="list"></ul>

    <input id="btn_1" type="button" value="データ取得" />

    <script type="text/javascript">
        //画面構築完了後
        $(function() {
            //ボタンのクリックイベントで
            $("#btn_1").click(function(){
                //データを取得し、jsonというオブジェクトに入れる
                $.getJSON("http://192.168.2.104:8080/web-test/date-test.php",function(json){
                var ulObj = $("#list");
                $('#list').empty('');
                len = json.length;

                for(var i = 0; i < len; i++) {
                        ulObj.append($("<li>").attr({"id":json[i].id}).text(json[i].recorded_at + " "
                        + json[i].temp + " " + json[i].hum ));
                }
                });
            });
        });
    </script>
  </div><!-- /container -->
</body>
</html>
